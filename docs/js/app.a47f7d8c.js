(function(t){function a(a){for(var s,c,i=a[0],o=a[1],l=a[2],m=0,u=[];m<i.length;m++)c=i[m],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&u.push(n[c][0]),n[c]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(a);while(u.length)u.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,i=1;i<e.length;i++){var o=e[i];0!==n[o]&&(s=!1)}s&&(r.splice(a--,1),t=c(c.s=e[0]))}return t}var s={},n={app:0},r=[];function c(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=t,c.c=s,c.d=function(t,a,e){c.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,a){if(1&a&&(t=c(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)c.d(e,s,function(a){return t[a]}.bind(null,s));return e},c.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(a,"a",a),a},c.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},c.p="/dragon-duel/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=a,i=i.slice();for(var l=0;l<i.length;l++)a(i[l]);var d=o;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var s=e("85ec"),n=e.n(s);n.a},"0eed":function(t,a,e){"use strict";var s=e("7374"),n=e.n(s);n.a},"100e":function(t,a,e){},"38b9":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],c=(e("034f"),e("2877")),i={},o=Object(c["a"])(i,n,r,!1,null,null,null),l=o.exports,d=e("8c4f"),m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home container-fluid",attrs:{id:"home"}},[t._m(0),t.activeChampion&&t.activeDragon?e("button",{staticClass:"btn btn-danger",on:{click:t.startGame}},[t._v("FIGHT")]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"row justify-content-around"},[t._m(1),t._l(t.dragons,(function(t){return e("dragon-component",{key:t._id,attrs:{dragonData:t}})}))],2)]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"row justify-content-around"},[t._m(2),t._l(t.champions,(function(t){return e("champion-component",{key:t._id,attrs:{championData:t}})}))],2)])])])},u=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h1",{staticClass:"my-5 text-info"},[t._v("Dragons "),s("img",{attrs:{alt:"Vue logo",src:e("cf05"),height:"30rem"}}),t._v("s Champions")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-12"},[e("h2",{staticClass:"my-3 text-warning"},[e("u",[t._v("Dragons")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-12"},[e("h2",{staticClass:"my-3 text-warning"},[e("u",[t._v("Champions")])])])}],p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card col-3 p-2 m-1 bg-danger text-warning",on:{click:t.setActive}},[e("img",{staticClass:"card-img-top",attrs:{src:t.dragonData.imgUrl,alt:""}}),e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.dragonData.name))]),e("p",{staticClass:"card-text"},[t._v("HP: "+t._s(t.dragonData.hp))])])])},h=[],g={name:"Dragon",props:{dragonData:{type:Object,required:!0}},methods:{setActive(){this.$store.dispatch("getDragonById",this.dragonData._id)}}},v=g,f=(e("5eb5"),Object(c["a"])(v,p,h,!1,null,"7eeb82f3",null)),_=f.exports,C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card col-3 p-2 m-1 bg-primary text-warning",on:{click:t.setActive}},[e("img",{staticClass:"card-img-top",attrs:{src:t.championData.imgUrl,alt:""}}),e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.championData.name))]),e("p",{staticClass:"card-text"},[t._v("Race: "+t._s(t.championData.race))]),e("p",{staticClass:"card-text"},[t._v("Class: "+t._s(t.championData.class))]),e("p",{staticClass:"card-text"},[t._v("HP: "+t._s(t.championData.hp))])])])},y=[],b={name:"Champion",props:{championData:{type:Object,required:!0}},methods:{setActive(){this.$store.dispatch("getChampionById",this.championData._id)}}},D=b,w=(e("7642"),Object(c["a"])(D,C,y,!1,null,"45870701",null)),x=w.exports,$={name:"Home",mounted(){this.$store.dispatch("getAll","champions"),this.$store.dispatch("getAll","dragons")},components:{ChampionComponent:x,DragonComponent:_},computed:{champions(){return this.$store.state.champions},dragons(){return this.$store.state.dragons},activeChampion(){return this.$store.state.activeChampion},activeDragon(){return this.$store.state.activeDragon}},methods:{startGame(){this.$store.dispatch("startGame",{dragon:this.activeDragon._id,champion:this.activeChampion._id})}}},j=$,O=(e("f6c6"),Object(c["a"])(j,m,u,!1,null,"2393dd14",null)),k=O.exports,E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.game._id?e("div",{staticClass:"container-fluid bg-dark",attrs:{id:"game"}},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-6 d-flex justify-content-center my-3"},[t.game.dragonHp>0?e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.game.dragon.name))]),e("p",{staticClass:"card-text"},[t._v("Hp:"+t._s(t.game.dragonHp)+"/"+t._s(t.game.dragon.hp))]),e("img",{staticClass:"card-img-top",attrs:{src:t.game.dragon.imgUrl,alt:""}}),t._l(t.game.champion.attacks,(function(a){return e("button",{key:a._id,staticClass:"btn btn-danger m-2",on:{click:function(e){return t.attack(a.name)}}},[t._v(t._s(a.name))])}))],2)])]):e("div",[e("h1",{staticClass:"text-success"},[t._v("YOU WIN")])])]),e("div",{staticClass:"col-6 d-flex justify-content-center my-3"},[t.game.championHp>0?e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.game.champion.name))]),e("p",{staticClass:"card-text"},[t._v("Hp:"+t._s(t.game.championHp)+"/"+t._s(t.game.champion.hp))]),e("img",{staticClass:"card-img-top",attrs:{src:t.game.champion.imgUrl,alt:""}})])])]):e("div",[e("h1",{staticClass:"text-danger"},[t._v("YOU DIED")])])])])]):t._e()},H=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-12"},[e("h1",{staticClass:"my-3 text-warning"},[t._v("BATTLE")])])}],G={name:"game",data(){return{}},mounted(){this.$store.dispatch("getGame",this.$route.params.id)},computed:{activeChampion(){return this.$store.state.activeChampion},activeDragon(){return this.$store.state.activeDragon},game(){return this.$store.state.game}},methods:{attack(t){let a=this.$route.params.id;this.$store.dispatch("attack",{attack:t,id:a})}},components:{}},P=G,A=(e("0eed"),Object(c["a"])(P,E,H,!1,null,"de17b59a",null)),R=A.exports;s["a"].use(d["a"]);const I=[{path:"/",name:"Home",component:k},{path:"/game/:id",name:"Game",component:R}],U=new d["a"]({routes:I});var S=U,T=e("2f62"),B=e("bc3a"),M=e.n(B);const q=M.a.create({baseURL:"https://drag-vs-champ.herokuapp.com/api/",timeout:3e3});s["a"].use(T["a"]);var J=new T["a"].Store({state:{champions:[],activeChampion:null,dragons:[],activeDragon:null,game:{}},mutations:{setResources(t,a){t[a.resource]=a.data}},actions:{async getAll({commit:t},a){try{let e=await q.get(a);t("setResources",{data:e.data,resource:a})}catch(e){console.error(e)}},async getChampionById({commit:t},a){try{let e=await q.get("champions/"+a);t("setResources",{data:e.data,resource:"activeChampion"})}catch(e){console.error(e)}},async getDragonById({commit:t},a){try{let e=await q.get("dragons/"+a);t("setResources",{data:e.data,resource:"activeDragon"})}catch(e){console.error(e)}},async attack({commit:t},a){try{console.log(a.attack);let e=await q.put("games/"+a.id,a);t("setResources",{data:e.data,resource:"game"})}catch(e){console.error(e)}},async startGame({commit:t},a){try{let t=await q.post("games",a);S.push({name:"Game",params:{id:t.data._id}})}catch(e){}},async getGame({commit:t},a){try{let e=await q.get("games/"+a);t("setResources",{data:e.data,resource:"game"})}catch(e){console.error(e)}}},modules:{}});s["a"].config.productionTip=!1,new s["a"]({router:S,store:J,render:function(t){return t(l)}}).$mount("#app")},"5eb5":function(t,a,e){"use strict";var s=e("a92b"),n=e.n(s);n.a},7374:function(t,a,e){},7642:function(t,a,e){"use strict";var s=e("38b9"),n=e.n(s);n.a},"85ec":function(t,a,e){},a92b:function(t,a,e){},cf05:function(t,a,e){t.exports=e.p+"img/logo.82b9c7a5.png"},f6c6:function(t,a,e){"use strict";var s=e("100e"),n=e.n(s);n.a}});
//# sourceMappingURL=app.a47f7d8c.js.map